trait Monad<T> = do
    bind :: Self -> (Any -> Self) -> Self
    return :: Any -> Self
end

struct Optional = (value: Any)

impl Monad<Optional> for Optional = do
    bind Optional{value: x} f = f x
    bind None{} f = None{}
    return x = Optional{value: x}
end

let main: IO<Unit> = do
    let opt = Optional{value: 42}
    println opt.value
end

